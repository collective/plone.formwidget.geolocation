/*! plone.formwidget.geolocation 2.0.0 */
"use strict";(self.webpackChunkplone_formwidget_geolocation=self.webpackChunkplone_formwidget_geolocation||[]).push([[210],{4210:(e,t,n)=>{var r=n(8872),i=n.n(r),o=n(33),a=n(7424);const s={getOptions(e,t,n){n=n||{},0===e.length||i().nodeName(e[0],"body")||(n=this.getOptions(e.parent(),t,n));let r={};if(0!==e.length&&(r=e.data("pat-"+t),r&&"string"==typeof r)){const e={};i().each(r.split(";"),(function(t,n){(n=n.split(":")).reverse();let r=n.pop();r=r.replace(/^\s+|\s+$/g,""),n.reverse();let i=n.join(":");i=i.replace(/^\s+|\s+$/g,""),e[r]=i})),r=e}return i().extend(!0,{},n,r)}},l=a.Z.getLogger("Patternslib Base"),p=function(e,t,n){e.jquery||(e=i()(e));const r=this.prototype.name,l=a.Z.getLogger(`pat.${r}`);let p=e.data(`pattern-${r}`);if(void 0===p&&o.Z.patterns[r])try{e.data(`pattern-${r}`,"initializing"),t="mockup"===this.prototype.parser?s.getOptions(e,r,t):t,p=new o.Z.patterns[r](e,t,n)}catch(e){l.error(`Failed while initializing ${r} pattern.`,e)}return p},d=async function(e,t,n){e?(e.jquery||(e=i()(e)),this.$el=e,this.el=e[0],this.options=i().extend(!0,{},this.defaults||{},t||{}),await this.init(e,t,n),this.$el.data(`pattern-${this.name}`,this),this.el[`pattern-${this.name}`]=this,this.emit("init")):l.warn("No element given to pattern.")};d.prototype={constructor:d,on(e,t){this.$el.on(`${e}.${this.name}.patterns`,t)},one(e,t){this.$el.one(`${e}.${this.name}.patterns`,t)},emit(e,t){void 0===t&&(t=[]),this.$el.trigger(`${e}.${this.name}.patterns`,t)}},d.extend=function(e){const t=this;let n;if(!e)throw new Error("Pattern configuration properties required when calling Base.extend");n=Object.hasOwnProperty.call(e,"constructor")?e.constructor:function(){t.apply(this,arguments)},n.extend=d.extend,n.init=p,n.jquery_plugin=!0,n.trigger=e.trigger,n.parser=e?.parser||null;var r=function(){this.constructor=n};return r.prototype=t.prototype,n.prototype=new r,i().extend(!0,n.prototype,e),n.__super__=t.prototype,e.name?e.trigger?!1!==e.autoregister&&o.Z.register(n,e.name):l.warn(`The pattern ${e.name} does not have a trigger attribute, it will not be registered.`):l.warn("This pattern without a name attribute will not be registered!"),n};const c=d;var u=n(7834);class h{constructor(e){this.order=[],this.parameters={},this.attribute="data-pat-"+e,this.enum_values={},this.enum_conflicts=[],this.groups={},this.possible_groups={},this.log=a.Z.getLogger(e+".parser"),this.group_pattern=/([a-z][a-z0-9]*)-([A-Z][a-z0-0\-]*)/i,this.json_param_pattern=/^\s*\[?\s*{/i,this.named_param_pattern=/^\s*([a-z][a-z0-9\-]*)\s*:(.*)/is,this.token_pattern=/((["']).*?(?!\\)\2)|\s*(\S+)\s*/g}_camelCase(e){return e.replace(/\-([a-z])/g,((e,t)=>t.toUpperCase()))}addAlias(e,t){if(!this.parameters[t])throw'Attempted to add an alias "'+e+'" for a non-existing parser argument "'+t+'".';this.parameters[t].alias=e}addGroupToSpec(e){const t=e.name.match(this.group_pattern);if(t){const n=t[1],r=t[2];if(n in this.possible_groups){const e=this.possible_groups[n],t=e.name.match(this.group_pattern)[2];e.group=n,e.dest=t,this.groups[n]=new h,this.groups[n].addArgument(t,e.value,e.choices,e.multiple),delete this.possible_groups[n]}n in this.groups?(this.groups[n].addArgument(r,e.value,e.choices,e.multiple),e.group=n,e.dest=r):(this.possible_groups[n]=e,e.dest=this._camelCase(e.name))}return e}addJSONArgument(e,t){this.order.push(e),this.parameters[e]=this.addGroupToSpec({name:e,value:t,dest:e,group:null,type:"json"})}addArgument(e,t,n,r){const i={name:e,value:r&&!Array.isArray(t)?[t]:t,multiple:r,dest:e,group:null};if(n&&Array.isArray(n)&&n.length){i.choices=n,i.type=this._typeof(n[0]);for(const t of n)-1===this.enum_conflicts.indexOf(t)&&(t in this.enum_values?(this.enum_conflicts.push(t),delete this.enum_values[t]):this.enum_values[t]=e)}else"string"==typeof i.value&&"$"===i.value.slice(0,1)?i.type=this.parameters[i.value.slice(1)].type:i.type=this._typeof(r?i.value[0]:i.value);this.order.push(e),this.parameters[e]=this.addGroupToSpec(i)}_typeof(e){return null===e?"null":typeof e}_coerce(e,t){const n=this.parameters[e];if(typeof t!==n.type)try{switch(n.type){case"json":t=JSON.parse(t);break;case"boolean":if("string"==typeof t){t=t.toLowerCase();const e=parseInt(t,10);t=isNaN(e)?"true"===t||"y"===t||"yes"===t||"y"===t||"on"===t:!!e}else{if("number"!=typeof t)throw"Cannot convert value for "+e+" to boolean";t=!!t}break;case"number":if("string"==typeof t){if(t=parseInt(t,10),isNaN(t))throw"Cannot convert value for "+e+" to number"}else{if("boolean"!=typeof t)throw"Cannot convert value for "+e+" to number";t+=0}break;case"string":t=t.toString();break;case"null":case"undefined":break;default:throw"Do not know how to convert value for "+e+" to "+n.type}}catch(e){return this.log.warn(e),null}return n.choices&&-1===n.choices.indexOf(t)?(this.log.warn("Illegal value for "+e+": "+t),null):t}_set(e,t,n){if(!(t in this.parameters))return void this.log.debug("Ignoring value for unknown argument "+t);let r;if(this.parameters[t].multiple){r="string"==typeof n?n.split(/,+/):n,n=[];for(const e of r){const r=this._coerce(t,e.trim());null!==r&&n.push(r)}}else if(null===(n=this._coerce(t,n)))return;e[t]=n}_split(e){const t=[];return e.replace(this.token_pattern,((e,n,r,i)=>{n?t.push(n):i&&t.push(i)})),t}_parseExtendedNotation(e){const t={},n=e.replace(/;;/g,"\0x1f").replace(/&amp;/g,"&amp\0x1f").split(/;/).map((e=>e.replace(new RegExp("\0x1f","g"),";")));for(const r of n){if(!r)continue;const n=r.match(this.named_param_pattern);if(!n){this.log.warn("Invalid parameter: "+r+": "+e);continue}const i=n[1],o=n[2].trim(),a=Object.values(this.parameters).filter((e=>e.alias===i));if(1===a.length)this._set(t,a[0].name,o);else if(i in this.parameters)this._set(t,i,o);else{if(!(i in this.groups)){this.log.warn("Unknown named parameter "+n[1]);continue}{const e=this.groups[i]._parseShorthandNotation(o);for(const n in e)this._set(t,i+"-"+n,e[n])}}}return t}_parseShorthandNotation(e){const t=this._split(e),n={};let r=0;for(;t.length;){const e=t.shift().trim();let i,o,a=!0;if("no-"===e.slice(0,3)?(i=!1,o=e.slice(3)):(i=!0,o=e),o in this.parameters&&"boolean"===this.parameters[o].type)a=!1,this._set(n,o,i);else if(o in this.enum_values)a=!1,this._set(n,this.enum_values[o],o);else{if(!a){t.unshift(e);break}this._set(n,this.order[r],e)}if(r++,r>=this.order.length)break}return t.length&&this.log.warn("Ignore extra arguments: "+t.join(" ")),n}_parse(e){if(!e)return{};if(e.match(this.json_param_pattern))try{return JSON.parse(e)}catch(t){this.log.warn("Invalid JSON argument found: "+e)}if(e.match(this.named_param_pattern))return this._parseExtendedNotation(e);const t=e.indexOf(";");if(-1===t)return this._parseShorthandNotation(e);const n=this._parseShorthandNotation(e.slice(0,t)),r=this._parseExtendedNotation(e.slice(t+1));for(const e in r)n[e]=r[e];return n}_defaults(e){const t={};for(const n in this.parameters)if("function"==typeof this.parameters[n].value)try{t[n]=this.parameters[n].value(e,n),this.parameters[n].type=typeof t[n]}catch(e){this.log.error("Default function for "+n+" failed.")}else t[n]=this.parameters[n].value;return t}_cleanupOptions(e,t=!0){for(const t of Object.keys(e)){const n=this.parameters[t];void 0!==n&&(e[t]===n.value&&"string"==typeof n.value&&"$"===n.value.slice(0,1)&&(e[t]=e[n.value.slice(1)]))}if(t)for(const t of Object.keys(e)){const n=this.parameters[t];let r;void 0!==n&&(n.group?("object"!=typeof e[n.group]&&(e[n.group]={}),r=e[n.group]):r=e,n.dest!==t&&(r[n.dest]=e[t],delete e[t]))}return e}parse(e,t,n,r=!0,o=!0){e.jquery||(e=i()(e)),"boolean"==typeof t&&void 0===n&&(n=t,t={});const a=r?[[this._defaults(e)]]:[[{}]];let s,l=1;s=!r||e.hasClass("pat-modal")&&"data-pat-inject"===this.attribute?e:e.parents("["+this.attribute+"]").addBack();for(const e of s){let t;const n=(i()(e).attr(this.attribute)||"").trim();if(!n)continue;const r=this._parse.bind(this);t=n.match(/&&/)?n.split(/\s*&&\s*/).map(r):r(n),Array.isArray(t)||(t=[t]),l=Math.max(t.length,l),a.push(t)}"object"==typeof t&&(Array.isArray(t)?(a.push(t),l=Math.max(t.length,l)):a.push([t])),n||(l=1);const p=u.Z.removeDuplicateObjects(u.Z.mergeStack(a,l)).map((e=>this._cleanupOptions(e,o)));return n?p:p[0]}}h.prototype.add_argument=h.prototype.addArgument;const g=h;var f=n(8742);const m=a.Z.getLogger("pat-leaflet");m.debug("pattern loaded");const _=new g("leaflet");_.addArgument("latitude","0.0"),_.addArgument("longitude","0.0"),_.addArgument("zoom","14"),_.addArgument("maxClusterRadius","80"),_.addArgument("boundsPadding","20"),_.addArgument("fullscreencontrol",!0),_.addArgument("zoomcontrol",!0),_.addArgument("addmarker",!1),_.addArgument("autolocate",!1),_.addArgument("geosearch",!1),_.addArgument("geosearch_provider","openstreetmap"),_.addArgument("locatecontrol",!1),_.addArgument("minimap",!1),_.addArgument("default_map_layer",{id:"OpenStreetMap.Mapnik",options:{}}),_.addArgument("map_layers",[{title:"Map",id:"OpenStreetMap.Mapnik",options:{}},{title:"Satellite",id:"Esri.WorldImagery",options:{}},{title:"Topographic",id:"OpenTopoMap",options:{}},{title:"Toner",id:"Stamen.Toner",options:{}}]),_.addArgument("image_path","node_modules/leaflet.awesome-markers/dist/images");c.extend({name:"leaflet",trigger:".pat-leaflet",map:void 0,parser:_,async init(){n.e(95).then(n.bind(n,4095)),this.L=(await n.e(633).then(n.bind(n,6633))).default;const e=(await n.e(732).then(n.t.bind(n,5732,23))).MarkerClusterGroup;await Promise.all([n.e(633),n.e(978)]).then(n.t.bind(n,2978,23)),await n.e(632).then(n.t.bind(n,2632,23)),await n.e(408).then(n.t.bind(n,7340,23)),await Promise.all([n.e(633),n.e(929)]).then(n.t.bind(n,929,23));const t=this.options=_.parse(this.el),r=this.fitBoundsOptions={maxZoom:t.zoom,padding:[parseInt(t.boundsPadding),parseInt(t.boundsPadding)]},i=this.main_marker=null,o=this.map=this.L.map(this.el,{fullscreenControl:t.fullscreencontrol,zoomControl:t.zoomcontrol,sleep:!0,sleepNote:!1,hoverToWake:!1,sleepOpacity:1}),a=this.marker_cluster=new e({maxClusterRadius:this.options.maxClusterRadius});if(o.on("moveend zoomend",(e=>{this.$el.trigger(`leaflet.${e.type}`,{original_event:e})})),this.L.Icon.Default.imagePath=t.image_path,t.locatecontrol||t.autolocate){await Promise.all([n.e(633),n.e(687)]).then(n.t.bind(n,687,23));const e=this.L.control.locate().addTo(o);t.autolocate&&e.start()}if(Array.isArray(t.map_layers)){const e={};t.map_layers=t.map_layers.map((function(e){return"string"==typeof e&&(e={id:e,title:e,options:{}}),e}));for(const n of t.map_layers)e[n.title]=this.L.tileLayer.provider(n.id,n.options);t.map_layers.length>1&&this.L.control.layers(e).addTo(o)}"string"==typeof t.default_map_layer&&(t.default_map_layer={id:t.default_map_layer,options:{}}),this.L.tileLayer.provider(t.default_map_layer.id,t.default_map_layer.options).addTo(o),o.setView([t.latitude,t.longitude],t.zoom);const s=this.el.dataset.geojson;if("string"==typeof s&&-1!=s.indexOf(".json")){let e;try{e=await fetch(s);const t=await e.json();this.init_geojson(o,t)}catch(e){return}}else s&&this.init_geojson(o,s);if(t.geosearch){const{GeoSearchControl:e}=await Promise.all([n.e(633),n.e(225)]).then(n.bind(n,4225));let s;s="esri"===t.geosearch_provider?(await Promise.all([n.e(633),n.e(225)]).then(n.bind(n,4225))).EsriProvider:"google"===t.geosearch_provider?(await Promise.all([n.e(633),n.e(225)]).then(n.bind(n,4225))).GoogleProvider:"bing"===t.geosearch_provider?(await Promise.all([n.e(633),n.e(225)]).then(n.bind(n,4225))).BingProvider:(await Promise.all([n.e(633),n.e(225)]).then(n.bind(n,4225))).OpenStreetMapProvider;const l=new e({showMarker:null===i,provider:new s});o.addControl(l),o.on("geosearch/showlocation",(e=>{const t={lat:e.location.y,lng:e.location.x};i&&i.feature.properties.editable?(this.marker_cluster.removeLayer(i),i.setLatLng(t).update(),this.marker_cluster.addLayer(i)):(e.marker.setIcon(this.create_marker("red")),this.bind_popup({properties:{editable:!0,popup:e.location.label}},e.marker),a.addLayer(e.marker)),o.fitBounds([t],r)}))}if(t.addmarker){await n.e(848).then(n.t.bind(n,7848,23));const e=function(e){this.bind_popup({properties:{editable:!0}},e)},t=new this.L.Control.SimpleMarkers({delete_control:!1,allow_popup:!1,marker_icon:this.create_marker("red"),marker_draggable:!0,add_marker_callback:e.bind(this)});o.addControl(t)}if(t.minimap){await Promise.all([n.e(633),n.e(244)]).then(n.t.bind(n,7244,23));const e=new this.L.Control.MiniMap(this.L.tileLayer.provider(t.default_map_layer.id,t.default_map_layer.options),{toggleDisplay:!0,mapOptions:{sleep:!1}});o.addControl(e)}m.debug("pattern initialized")},init_geojson(e,t){let n;const r=this.L.geoJson(t,{pointToLayer:(t,r)=>{const i=t.properties.extraClasses||"";let o="green";t.properties.color?o=t.properties.color:this.main_marker&&!t.properties.main||(o="red");const a=this.create_marker(o,i),s=new this.L.Marker(r,{icon:a,draggable:t.properties.editable});this.main_marker&&!t.properties.main||(this.main_marker=s);const l=document.querySelector(t.properties.latinput),p=document.querySelector(t.properties.lnginput);return s.on("dragend move",(e=>{const t=e.target.getLatLng();l&&(l.value=t.lat),p&&(p.value=t.lng)})),l&&f.Z.add_event_listener(l,"input","pat-leaflet--input_lat",(t=>{const r=s.getLatLng();this.marker_cluster.removeLayer(s),s.setLatLng({lat:t.target.value,lng:r.lng}).update(),this.marker_cluster.addLayer(s),n=this.marker_cluster.getBounds(),e.fitBounds(n,this.fitBoundsOptions)})),p&&f.Z.add_event_listener(p,"input","pat-leaflet--input_lng",(t=>{const r=s.getLatLng();this.marker_cluster.removeLayer(s),s.setLatLng({lat:r.lat,lng:t.target.value}).update(),this.marker_cluster.addLayer(s),n=this.marker_cluster.getBounds(),e.fitBounds(n,this.fitBoundsOptions)})),s},onEachFeature:this.bind_popup.bind(this)});this.marker_cluster.addLayer(r),e.addLayer(this.marker_cluster),n=this.marker_cluster.getBounds(),e.fitBounds(n,this.fitBoundsOptions)},bind_popup(e,t){const n=e.properties.popup||"";if(e.properties.editable&&!e.properties.no_delete){const e=document.createElement("div");e.innerHTML=`\n              <div>${n}</div>\n              <br/>\n              <button type="button" class="delete-marker">Delete marker</button>\n            `,e.querySelector(".delete-marker").addEventListener("click",(e=>{e.preventDefault(),this.map.removeLayer(t),t=void 0})),t.bindPopup(e)}else n&&t.bindPopup(n)},create_marker(e,t){return e=e||"red",t=t||"",this.L.AwesomeMarkers.icon({markerColor:e,prefix:"fa",icon:"circle",extraClasses:t})}})},2218:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8742);const i="__patternslib__data_prefix__",o="__patternslib__style__display";function a(e,t,n=!1,r=!1){let i=window.getComputedStyle(e).getPropertyValue(t);return(n||r)&&(i=parseFloat(i)||0),n&&!r&&(i=parseInt(Math.round(i),10)),i}const s={toNodeArray:e=>(e.jquery||e instanceof NodeList?e=[...e]:e instanceof Array==!1&&(e=[e]),e),querySelectorAllAndMe:(e,t)=>{if(!e)return[];const n=[...e.querySelectorAll(t)];return e.matches(t)&&n.unshift(e),n},wrap:(e,t)=>{e.parentNode.insertBefore(t,e),t.appendChild(e)},hide:e=>{"none"!==e.style.display&&(e.style.display&&(e[o]=e.style.display),e.style.display="none",e.setAttribute("hidden",""))},show:e=>{const t=e[o]||null;e.style.display=t,delete e[o],e.removeAttribute("hidden")},find_parents:(e,t)=>{const n=[];let r=e;for(;r;)r=r.parentNode?.closest?.(t),r&&n.push(r);return n},find_scoped:(e,t)=>(0===t.indexOf("#")?document:e).querySelectorAll(t),get_parents:e=>{const t=[];let n=e?.parentNode;for(;n;)t.push(n),n=n?.parentNode,n=n instanceof HTMLElement?n:null;return t},acquire_attribute:(e,t,n=!1,r=!1)=>{let i=e;const o=[];for(;i;){const e=i.getAttribute(t);if(e||n&&""===e){if(!r)return e;o.push(e)}i=i.parentElement}if(r)return o},is_visible:e=>e.offsetWidth>0&&e.offsetHeight>0,create_from_string:e=>document.createRange().createContextualFragment(e.trim()),get_css_value:a,find_scroll_container:(e,t,n=document.body)=>{for(;e&&e!==document.body;){if(!t||"y"===t){let t=a(e,"overflow-y");if(["auto","scroll"].includes(t))return e}if(!t||"x"===t){let t=a(e,"overflow-x");if(["auto","scroll"].includes(t))return e}e=e.parentElement}return n},get_data:(e,t,n)=>e[`${i}${t}`]||n,set_data:(e,t,n)=>{e[`${i}${t}`]=n},template:(e,t={})=>new Function("return `"+e+"`;").call(t),add_event_listener:r.Z.add_event_listener,remove_event_listener:r.Z.remove_event_listener}},8742:(e,t,n)=>{n.d(t,{Z:()=>o});const r={},i=(e,t)=>{if(!e?.removeEventListener)return;const n=r[e];if(!n)return;let i;if(t){const e=n[t];i=e?[e]:[]}else i=Object.entries(n);for(const t of i||[])e.removeEventListener(t[0],t[1],t[2])},o={add_event_listener:(e,t,n,o,a={})=>{e?.addEventListener&&(i(e,n),r[e]||(r[e]={}),r[e][n]=[t,o,a.capture?a:void 0],e.addEventListener(t,o,a))},remove_event_listener:i,await_event:(e,t)=>new Promise((n=>e.addEventListener(t,n,{once:!0}))),await_pattern_init:e=>new Promise((t=>e.one("init",t))),blur_event:()=>new Event("blur",{bubbles:!1,cancelable:!1}),click_event:()=>new Event("click",{bubbles:!0,cancelable:!0}),change_event:()=>new Event("change",{bubbles:!0,cancelable:!1}),focus_event:()=>new Event("focus",{bubbles:!1,cancelable:!1}),input_event:()=>new Event("input",{bubbles:!0,cancelable:!1}),mousedown_event:()=>new Event("mousedown",{bubbles:!0,cancelable:!0}),mouseup_event:()=>new Event("mouseup",{bubbles:!0,cancelable:!0}),scroll_event:()=>new Event("scroll",{bubbles:!0,cancelable:!1}),submit_event:()=>new Event("submit",{bubbles:!0,cancelable:!0})}},7424:(e,t,n)=>{var r,i;n.d(t,{Z:()=>c}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i});var o={DEBUG:10,INFO:20,WARN:30,ERROR:40,FATAL:50};function a(){}function s(e,t){this._loggers={},this.name=e||"",this._parent=t||null,t||(this._enabled=!0,this._level=o.WARN)}function l(e){i=e}a.prototype={output:function(e,t,n){e&&n.unshift(e+":"),t<=o.DEBUG?(n.unshift("[DEBUG]"),console.log.apply(console,n)):t<=o.INFO?console.info.apply(console,n):t<=o.WARN?console.warn.apply(console,n):console.error.apply(console,n)}},s.prototype={getLogger:function(e){for(var t=e.split("."),n=this,r=this.name?[this.name]:[];t.length;){var i=t.shift();r.push(i),i in n._loggers||(n._loggers[i]=new s(r.join("."),n)),n=n._loggers[i]}return n},_getFlag:function(e){var t=this;for(e="_"+e;null!==t;){if(void 0!==t[e])return t[e];t=t._parent}return null},setEnabled:function(e){this._enabled=!!e},isEnabled:function(){this._getFlag("enabled")},setLevel:function(e){"number"==typeof e?this._level=e:"string"==typeof e&&(e=e.toUpperCase())in o&&(this._level=o[e])},getLevel:function(){return this._getFlag("level")},log:function(e,t){!t.length||!this._getFlag("enabled")||e<this._getFlag("level")||(t=Array.prototype.slice.call(t),i.output(this.name,e,t))},debug:function(){this.log(o.DEBUG,arguments)},info:function(){this.log(o.INFO,arguments)},warn:function(){this.log(o.WARN,arguments)},error:function(){this.log(o.ERROR,arguments)},fatal:function(){this.log(o.FATAL,arguments)}},l(new a),r=new s;for(var p,d=/loglevel(|-[^=]+)=([^&]+)/g;null!==(p=d.exec(window.location.search));){(""===p[1]?r:r.getLogger(p[1].slice(1))).setLevel(p[2].toUpperCase())}const c={Level:o,getLogger:r.getLogger.bind(r),setEnabled:r.setEnabled.bind(r),isEnabled:r.isEnabled.bind(r),setLevel:r.setLevel.bind(r),getLevel:r.getLevel.bind(r),debug:r.debug.bind(r),info:r.info.bind(r),warn:r.warn.bind(r),error:r.error.bind(r),fatal:r.fatal.bind(r),getWriter:function(){return i},setWriter:l}},33:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(8872),i=n.n(r),o=n(2218),a=n(7424),s=n(7834);const l=a.Z.getLogger("registry"),p=/patterns-disable=([^&]+)/g,d=/patterns-dont-catch/g,c={};let u,h=!1;for(;null!==(u=p.exec(window.location.search));)c[u[1]]=!0,l.info("Pattern disabled via url config:",u[1]);for(;null!==(u=d.exec(window.location.search));)h=!0,l.info("I will not catch init exceptions");void 0===window.__patternslib_registry&&(window.__patternslib_registry={});const g=window.__patternslib_registry;void 0===window.__patternslib_registry_initialized&&(window.__patternslib_registry_initialized=!1);const f={patterns:g,init(){i()(document).ready((function(){window.__patternslib_registry_initialized||(window.__patternslib_registry_initialized=!0,l.debug("Loaded: "+Object.keys(f.patterns).sort().join(", ")),f.scan(document.body),l.debug("Finished initial scan."))}))},clear(){for(const e in f.patterns)delete f.patterns[e]},transformPattern(e,t){if(c[e])return void l.debug(`Skipping disabled pattern: ${e}.`);const n=f.patterns[e],r=n.transform||n.prototype?.transform;if(r)try{r(i()(t))}catch(t){if(h)throw t;l.error(`Transform error for pattern ${e}.`,t)}},initPattern(e,t,n){const r=i()(t),o=f.patterns[e];if(o.init){const t=a.Z.getLogger(`pat.${e}`);if(r.is(o.trigger)){t.debug("Initialising.",r);try{o.init(r,null,n),t.debug("done.")}catch(e){if(h)throw e;t.error("Caught error:",e)}}}},orderPatterns:e=>(e.includes("validation")&&(e.splice(e.indexOf("validation"),1),e.unshift("validation")),e),scan(e,t,n){if(!e)return;"string"==typeof e?e=document.querySelector(e):e.jquery&&(e=e[0]);const r=[];t=this.orderPatterns(t||Object.keys(f.patterns));for(const n of t){this.transformPattern(n,e);const t=f.patterns[n];t.trigger&&r.unshift(t.trigger)}let i=o.Z.querySelectorAllAndMe(e,r.map((e=>e.trim().replace(/,$/,""))).join(","));i=i.filter((e=>!(e.matches(".disable-patterns")||e?.parentNode?.closest?.(".disable-patterns")||e?.parentNode?.closest?.("pre")||e?.parentNode?.closest?.("template")||e.matches(".cant-touch-this")||e?.parentNode?.closest?.(".cant-touch-this"))));for(const e of i.reverse())for(const r of t)this.initPattern(r,e,n);document.body.classList.add("patterns-loaded")},register(e,t){if(!(t=t||e.name))return l.error("Pattern lacks a name.",e),!1;if(f.patterns[t])return l.debug(`Already have a pattern called ${t}.`),!1;if(f.patterns[t]=e,e.jquery_plugin){const n=("pat-"+t).replace(/-([a-zA-Z])/g,(function(e,t){return t.toUpperCase()}));i().fn[n]=s.Z.jqueryPlugin(e),i().fn[n.replace(/^pat/,"pattern")]=i().fn[n]}return l.debug(`Registered pattern ${t}`,e),window.__patternslib_registry_initialized&&(f.scan(document.body,[t]),l.debug(`Re-scanned dom with newly registered pattern ${t}.`)),!0}},m=f},7834:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(8872),i=n.n(r),o=n(2218);i().fn.safeClone=function(){var e=this.clone();return window.document.documentMode&&e.findInclusive(":input[placeholder]").each((function(e,t){var n=i()(t);n.attr("placeholder")===n.val()&&n.val("")})),e},Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,r;if(null===this)throw new TypeError(" this is null or not defined");var i=Object(this),o=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),r=0;r<o;){var a;r in i&&(a=i[r],e.call(n,a,r,i)),r++}});var a=function(e,t,n){return this.each((function(){var r,o=i()(this);if(r=e.init(o,n),t){if(void 0===r[t])return i().error("Method "+t+" does not exist on jQuery."+e.name),!1;if("_"===t.charAt(0))return i().error("Method "+t+" is private on jQuery."+e.name),!1;r[t].apply(r,[n])}})),this},s=function(e,t,n){var r=this;if(t){if(e[t])return e[t].apply(r,[r].concat([n]));i().error("Method "+t+" does not exist on jQuery."+e.name)}else e.init.apply(r,[r].concat([n]));return r};function l(e){var t=typeof e;return"function"===t||"object"===t&&!!e}var p={jqueryPlugin:function(e){return function(t,n){return 0===this.length?this:("object"==typeof t&&(n=t,t=void 0),"function"==typeof e?a.call(this,e,t,n):s.call(this,e,t,n))}},escapeRegExp:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isObject:l,extend:function(e){if(!l(e))return e;for(var t,n,r=1,i=arguments.length;r<i;r++)for(n in t=arguments[r])hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},findLabel:function(e){for(var t,n=e.parentNode;n&&11!==n.nodeType;n=n.parentNode)if("LABEL"===n.tagName)return n;return e.id&&(t=i()('label[for="'+e.id+'"]')),t&&0===t.length&&e.form&&(t=i()('label[for="'+e.name+'"]',e.form)),t&&t.length?t[0]:null},elementInViewport:function(e){var t=e.getBoundingClientRect(),n=document.documentElement,r=window.innerWidth||n.clientWidth,i=window.innerHeight||n.clientHeight;return!(t.right<0||t.bottom<0||t.left>r||t.top>i)},removeWildcardClass:function(e,t){if(e=p.ensureArray(e),-1===t.indexOf("*"))for(const n of e)n.classList.remove(t);else{let n=t.replace(/[\-\[\]{}()+?.,\\\^$|#\s]/g,"\\$&");n=n.replace(/[*]/g,".*"),n=new RegExp("^"+n+"$");for(const t of e){const e=(t.getAttribute("class")||"").split(/\s+/);if(!e.length)continue;const r=e.filter((e=>!n.test(e)));r.length?t.setAttribute("class",r.join(" ")):t.removeAttribute("class")}}},hideOrShow:(e,t,n,r)=>{e=o.Z.toNodeArray(e);const a={none:{hide:"hide",show:"show"},fade:{hide:"fadeOut",show:"fadeIn"},slide:{hide:"slideUp",show:"slideDown"}},s="css"===n.transition||"none"===n.transition?null:n.effect.duration,l=e=>{e.classList.remove("in-progress"),e.classList.add(t?"visible":"hidden"),i()(e).trigger("pat-update",{pattern:r,transition:"complete"})};for(const p of e)if(p.classList.remove("visible"),p.classList.remove("hidden"),p.classList.remove("in-progress"),s){const e=a[n.transition];p.classList.add("in-progress"),i()(p).trigger("pat-update",{pattern:r,transition:"start"}),i()(p)[t?e.show:e.hide]({duration:s,easing:n.effect.easing,complete:()=>l(p)})}else"css"!==n.transition&&o.Z[t?"show":"hide"](p),l(p)},addURLQueryParameter:function(e,t,n){var r=new RegExp("(\\?|\\&)"+t+"=.*?(?=(&|$))"),i=e.toString().split("#"),o=i[0],a=i[1],s=o;return s=r.test(o)?o.replace(r,"$1"+t+"="+n):/\?.+$/.test(o)?o+"&"+t+"="+n:o+"?"+t+"="+n,a&&(s+="#"+a),s},removeDuplicateObjects:function(e){const t=function(e,t){return this[e]===t};return e.reduce((function(e,n){let r=!1;for(const i of e)r=Object.keys(i).length===Object.keys(n).length&&0===Object.entries(i).filter((e=>!t.bind(n)(e[0],e[1]))).length;return r||e.push(n),e}),[])},mergeStack:function(e,t){const n=[];for(let e=0;e<t;e++)n.push({});for(const r of e){const e=r.length-1;for(let o=0;o<t;o++)n[o]=i().extend(n[o]||{},r[o>e?e:o])}return n},isElementInViewport:function(e,t=!1,n=0){e instanceof i()&&(e=e[0]);const r=e.getBoundingClientRect();return![r.top,r.bottom,r.left,r.right].every((e=>0===e))&&(t?r.top<=0+n&&r.bottom>=0+n:r.top>=0&&r.left>=0&&r.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&r.right<=(window.innerWidth||document.documentElement.clientWidth))},hasValue:function(e){return"INPUT"===e.tagName?"checkbox"===e.type||"radio"===e.type?e.checked:""!==e.value:"SELECT"===e.tagName?-1!==e.selectedIndex:"TEXTAREA"===e.tagName&&""!==e.value},parseTime:function(e){var t=/^(\d+(?:\.\d+)?)\s*(\w*)/.exec(e);if(!t)throw new Error("Invalid time");var n=parseFloat(t[1]);switch(t[2]){case"s":return Math.round(1e3*n);case"m":return Math.round(1e3*n*60);default:return Math.round(n)}},findRelatives:function(e){var t=i()(e),n=i()(e),r=i()();if(n=(n=n.add(t.closest("label"))).add(t.closest("fieldset")),e.id&&(r=i()("label[for='"+e.id+"']")),!r.length){var o=t.closest("form");o.length||(o=i()(document.body)),r=o.find("label[for='"+e.name+"']")}return n=n.add(r)},get_bounds:function(e){const t=e.getBoundingClientRect();return{x:parseInt(Math.round(t.x),10)||0,y:parseInt(Math.round(t.y),10)||0,top:parseInt(Math.round(t.top),10)||0,bottom:parseInt(Math.round(t.bottom),10)||0,left:parseInt(Math.round(t.left),10)||0,right:parseInt(Math.round(t.right),10)||0,width:parseInt(Math.round(t.width),10)||0,height:parseInt(Math.round(t.height),10)||0}},checkInputSupport:function(e,t){let n=!1;const r=document.createElement("input");return r.setAttribute("type",e),n=r.type==e,void 0!==t&&(r.setAttribute("value",t),n=r.value!==t),n},checkCSSFeature:(e,t,n="div")=>{let r=void 0!==(n=document.createElement(n)).style[e];return r&&void 0!==t&&(n.style[e]=t,r=n.style[e]===t),r},animation_frame:()=>new Promise(window.requestAnimationFrame),timeout:e=>new Promise((t=>setTimeout(t,e))),debounce:(e,t,n={timer:null})=>function(){clearTimeout(n.timer);const r=arguments;n.timer=setTimeout((()=>e.apply(this,r)),t)},isIE:()=>!!document.documentMode,jqToNode:e=>(e.jquery&&(e=e[0]),e),ensureArray:(e,t)=>!!(NodeList.prototype.isPrototypeOf(e)||Array.isArray(e)||e.jquery)?t?[...e]:e:[e],localized_isodate:e=>{const t=e.getDate().toString().padStart(2,"0"),n=(e.getMonth()+1).toString().padStart(2,"0");return`${e.getFullYear().toString()}-${n}-${t}`},escape_html:e=>(e||"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),unescape_html:e=>(e||"").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'),is_iso_date_time:(e,t=!1)=>(t?/^\d{4}-[01]\d-[0-3]\d(T[0-2]\d:[0-5]\d)?$/:/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d$/).test(e),is_iso_date:e=>/^\d{4}-[01]\d-[0-3]\d$/.test(e),date_diff:(e,t)=>{const n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),r=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((n-r)/864e5)},getCSSValue:o.Z.get_css_value};const d=p}}]);
//# sourceMappingURL=210.10dd3fa70b1f8902c2d0.min.js.map