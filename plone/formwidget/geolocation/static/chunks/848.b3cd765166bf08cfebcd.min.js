(self.webpackChunkplone_formwidget_geolocation=self.webpackChunkplone_formwidget_geolocation||[]).push([[848],{7848:()=>{L.Control.SimpleMarkers=L.Control.extend({options:{position:"topleft",add_control:!0,delete_control:!0,allow_popup:!0,marker_icon:void 0,marker_draggable:!1,add_marker_callback:void 0},map:void 0,markerList:[],onAdd:function(t){"use strict";this.map=t;var e=L.DomUtil.create("div","marker_controls");if(this.options.add_control){var r=L.DomUtil.create("div","add_marker_control",e);r.title="Add a marker",L.DomEvent.addListener(r,"click",L.DomEvent.stopPropagation).addListener(r,"click",L.DomEvent.preventDefault).addListener(r,"click",this.enterAddMarkerMode.bind(this))}if(this.options.delete_control){var i=L.DomUtil.create("div","del_marker_control",e);i.title="Delete a marker",L.DomEvent.addListener(i,"click",L.DomEvent.stopPropagation).addListener(i,"click",L.DomEvent.preventDefault).addListener(i,"click",this.enterDelMarkerMode.bind(this))}return e},enterAddMarkerMode:function(){"use strict";if(""!==this.markerList)for(var t=0;t<this.markerList.length;t++)void 0!==this.markerList[t]&&this.markerList[t].removeEventListener("click",this.onMarkerClickDelete.bind(this));this.map._container.style.cursor="crosshair",this.map.addEventListener("click",this.onMapClickAddMarker.bind(this))},enterDelMarkerMode:function(){"use strict";for(var t=0;t<this.markerList.length;t++)void 0!==this.markerList[t]&&(this.markerList[t].addEventListener("click",this.onMarkerClickDelete.bind(this)),this.map._container.style.cursor="crosshair")},onMapClickAddMarker:function(t){"use strict";this.map.removeEventListener("click"),this.map._container.style.cursor="auto";var e={draggable:this.options.marker_draggable};this.options.marker_icon&&(e.icon=this.options.marker_icon);var r=L.marker(t.latlng,e);if(this.options.allow_popup){var i="You clicked on the map at "+t.latlng.toString(),o=L.popup({maxWidth:160,closeButton:!1});o.setContent(i),r.bindPopup(o).openPopup()}return this.options.add_marker_callback&&this.options.add_marker_callback(r),r.addTo(this.map),this.markerList.push(r),!1},onMarkerClickDelete:function(t){"use strict";if(this.map._container.style.cursor="auto",this.markerList.indexOf(t.target)){this.map.removeLayer(t.target);var e=this.markerList.indexOf(t.target);delete this.markerList[e];for(var r=0;r<this.markerList.length;r++)void 0!==this.markerList[r]&&this.markerList[r].removeEventListener("click",this.onMarkerClickDelete);return!1}}})}}]);
//# sourceMappingURL=848.b3cd765166bf08cfebcd.min.js.map