{"version":3,"file":"chunks/848.b3cd765166bf08cfebcd.min.js","mappings":"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","sources":["webpack://plone.formwidget.geolocation/./node_modules/leaflet.simplemarkers/lib/Control.SimpleMarkers.js"],"sourcesContent":["/* jshint plusplus: false */\n/* globals L */\nL.Control.SimpleMarkers = L.Control.extend({\n    options: {\n        position: 'topleft',\n        add_control: true,\n        delete_control: true,\n        allow_popup: true,\n        marker_icon: undefined,\n        marker_draggable: false,\n        add_marker_callback: undefined\n    },\n    map: undefined,\n    markerList: [],\n\n    onAdd: function (map) {\n        \"use strict\";\n        this.map = map;\n        var marker_container = L.DomUtil.create('div', 'marker_controls');\n\n        if (this.options.add_control) {\n            var add_marker_div = L.DomUtil.create('div', 'add_marker_control', marker_container);\n            add_marker_div.title = 'Add a marker';\n            L.DomEvent.addListener(add_marker_div, 'click', L.DomEvent.stopPropagation)\n                .addListener(add_marker_div, 'click', L.DomEvent.preventDefault)\n                .addListener(add_marker_div, 'click', this.enterAddMarkerMode.bind(this));\n        }\n        if (this.options.delete_control) {\n            var del_marker_div = L.DomUtil.create('div', 'del_marker_control', marker_container);\n            del_marker_div.title = 'Delete a marker';\n\n\n            L.DomEvent.addListener(del_marker_div, 'click', L.DomEvent.stopPropagation)\n                .addListener(del_marker_div, 'click', L.DomEvent.preventDefault)\n                .addListener(del_marker_div, 'click', this.enterDelMarkerMode.bind(this));\n        }\n\n        return marker_container;\n    },\n\n    enterAddMarkerMode: function () {\n        \"use strict\";\n        if (this.markerList !== '') {\n            for (var marker = 0; marker < this.markerList.length; marker++) {\n                if (typeof(this.markerList[marker]) !== 'undefined') {\n                    this.markerList[marker].removeEventListener('click', this.onMarkerClickDelete.bind(this));\n                }\n            }\n        }\n        this.map._container.style.cursor = 'crosshair';\n        this.map.addEventListener('click', this.onMapClickAddMarker.bind(this));\n    },\n\n    enterDelMarkerMode: function () {\n        \"use strict\";\n        for (var marker = 0; marker < this.markerList.length; marker++) {\n            if (typeof(this.markerList[marker]) !== 'undefined') {\n                this.markerList[marker].addEventListener('click', this.onMarkerClickDelete.bind(this));\n                this.map._container.style.cursor = 'crosshair';\n            }\n        }\n    },\n\n    onMapClickAddMarker: function (e) {\n        \"use strict\";\n        this.map.removeEventListener('click');\n        this.map._container.style.cursor = 'auto';\n\n        var marker_options = {draggable: this.options.marker_draggable};\n        if (this.options.marker_icon) {\n            marker_options.icon = this.options.marker_icon;\n        }\n        var marker = L.marker(e.latlng, marker_options);\n        if (this.options.allow_popup) {\n            var popupContent =  \"You clicked on the map at \" + e.latlng.toString();\n            var the_popup = L.popup({maxWidth: 160, closeButton: false});\n            the_popup.setContent(popupContent);\n            marker.bindPopup(the_popup).openPopup();\n        }\n        if (this.options.add_marker_callback) {\n            this.options.add_marker_callback(marker);\n        }\n        marker.addTo(this.map);\n        this.markerList.push(marker);\n\n        return false;\n    },\n\n    onMarkerClickDelete: function (e) {\n        \"use strict\";\n        this.map._container.style.cursor = 'auto';\n        if (this.markerList.indexOf(e.target)) {\n            this.map.removeLayer(e.target);\n            var marker_index = this.markerList.indexOf(e.target);\n            delete this.markerList[marker_index];\n\n            for (var marker = 0; marker < this.markerList.length; marker++) {\n                if (typeof(this.markerList[marker]) !== 'undefined') {\n                    this.markerList[marker].removeEventListener('click', this.onMarkerClickDelete);\n                }\n            }\n            return false;\n        }\n    }\n});\n"],"names":["L","Control","SimpleMarkers","extend","options","position","add_control","delete_control","allow_popup","marker_icon","undefined","marker_draggable","add_marker_callback","map","markerList","onAdd","this","marker_container","DomUtil","create","add_marker_div","title","DomEvent","addListener","stopPropagation","preventDefault","enterAddMarkerMode","bind","del_marker_div","enterDelMarkerMode","marker","length","removeEventListener","onMarkerClickDelete","_container","style","cursor","addEventListener","onMapClickAddMarker","e","marker_options","draggable","icon","latlng","popupContent","toString","the_popup","popup","maxWidth","closeButton","setContent","bindPopup","openPopup","addTo","push","indexOf","target","removeLayer","marker_index"],"sourceRoot":""}