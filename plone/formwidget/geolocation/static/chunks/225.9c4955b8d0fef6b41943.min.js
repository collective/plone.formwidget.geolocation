/*! plone.formwidget.geolocation 2.0.0 */
"use strict";(self.webpackChunkplone_formwidget_geolocation=self.webpackChunkplone_formwidget_geolocation||[]).push([[225],{4225:(t,e,r)=>{r.r(e),r.d(e,{AlgoliaProvider:()=>U,BingProvider:()=>R,EsriProvider:()=>I,GeoApiFrProvider:()=>K,GeoSearchControl:()=>x,GeocodeEarthProvider:()=>A,GoogleProvider:()=>M,HereProvider:()=>F,JsonProvider:()=>S,LegacyGoogleProvider:()=>_,LocationIQProvider:()=>B,MapBoxProvider:()=>G,OpenCageProvider:()=>D,OpenStreetMapProvider:()=>q,PeliasProvider:()=>j,SearchControl:()=>x,SearchElement:()=>E});var n=r(5243);function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o.apply(this,arguments)}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,s(t,e)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function l(t,e,r){return l=a()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&s(o,r.prototype),o},l.apply(null,arguments)}function c(t,e,r,n){void 0===e&&(e=""),void 0===n&&(n={});var o=document.createElement(t);return e&&(o.className=e),Object.keys(n).forEach((function(t){if("function"==typeof n[t]){var e=0===t.indexOf("on")?t.substr(2).toLowerCase():t;o.addEventListener(e,n[t])}else"html"===t?o.innerHTML=n[t]:"text"===t?o.innerText=n[t]:o.setAttribute(t,n[t])})),r&&r.appendChild(o),o}function u(t){t.preventDefault(),t.stopPropagation()}var h=function(){return[].slice.call(arguments).filter(Boolean).join(" ").trim()};function d(t,e){t&&t.classList&&(Array.isArray(e)?e:[e]).forEach((function(e){t.classList.contains(e)||t.classList.add(e)}))}function p(t,e){t&&t.classList&&(Array.isArray(e)?e:[e]).forEach((function(e){t.classList.contains(e)&&t.classList.remove(e)}))}var f,m,v=13,g=40,y=38,b=[v,27,g,y,37,39],E=function(){function t(t){var e=this,r=t.handleSubmit,n=t.searchLabel,o=t.classNames,i=void 0===o?{}:o;this.container=void 0,this.form=void 0,this.input=void 0,this.handleSubmit=void 0,this.hasError=!1,this.container=c("div",h("geosearch",i.container)),this.form=c("form",["",i.form].join(" "),this.container,{autocomplete:"none",onClick:u,onDblClick:u,touchStart:u,touchEnd:u}),this.input=c("input",["glass",i.input].join(" "),this.form,{type:"text",placeholder:n||"search",onInput:this.onInput,onKeyUp:function(t){return e.onKeyUp(t)},onKeyPress:function(t){return e.onKeyPress(t)},onFocus:this.onFocus,onBlur:this.onBlur,onClick:function(){e.input.focus(),e.input.dispatchEvent(new Event("focus"))}}),this.handleSubmit=r}var e=t.prototype;return e.onFocus=function(){d(this.form,"active")},e.onBlur=function(){p(this.form,"active")},e.onSubmit=function(t){try{var e=this;return u(t),p(r=e.container,"error"),d(r,"pending"),Promise.resolve(e.handleSubmit({query:e.input.value})).then((function(){p(e.container,"pending")}))}catch(t){return Promise.reject(t)}var r},e.onInput=function(){this.hasError&&(p(this.container,"error"),this.hasError=!1)},e.onKeyUp=function(t){27===t.keyCode&&(p(this.container,["pending","active"]),this.input.value="",document.body.focus(),document.body.blur())},e.onKeyPress=function(t){t.keyCode===v&&this.onSubmit(t)},e.setQuery=function(t){this.input.value=t},t}(),w=function(){function t(t){var e=this,r=t.handleClick,n=t.classNames,o=void 0===n?{}:n,i=t.notFoundMessage;this.handleClick=void 0,this.selected=-1,this.results=[],this.container=void 0,this.resultItem=void 0,this.notFoundMessage=void 0,this.onClick=function(t){if("function"==typeof e.handleClick){var r=t.target;if(r&&e.container.contains(r)&&r.hasAttribute("data-key")){var n=Number(r.getAttribute("data-key"));e.clear(),e.handleClick({result:e.results[n]})}}},this.handleClick=r,this.notFoundMessage=i?c("div",h(o.notfound),void 0,{html:i}):void 0,this.container=c("div",h("results",o.resultlist)),this.container.addEventListener("click",this.onClick,!0),this.resultItem=c("div",h(o.item))}var e=t.prototype;return e.render=function(t,e){var r=this;void 0===t&&(t=[]),this.clear(),t.forEach((function(t,n){var o=r.resultItem.cloneNode(!0);o.setAttribute("data-key",""+n),o.innerHTML=e({result:t}),r.container.appendChild(o)})),t.length>0?(d(this.container.parentElement,"open"),d(this.container,"active")):this.notFoundMessage&&(this.container.appendChild(this.notFoundMessage),d(this.container.parentElement,"open")),this.results=t},e.select=function(t){return Array.from(this.container.children).forEach((function(e,r){return r===t?d(e,"active"):p(e,"active")})),this.selected=t,this.results[t]},e.count=function(){return this.results?this.results.length:0},e.clear=function(){for(this.selected=-1;this.container.lastChild;)this.container.removeChild(this.container.lastChild);p(this.container.parentElement,"open"),p(this.container,"active")},t}(),k={position:"topleft",style:"button",showMarker:!0,showPopup:!1,popupFormat:function(t){return""+t.result.label},resultFormat:function(t){return""+t.result.label},marker:{icon:n&&n.Icon?new n.Icon.Default:void 0,draggable:!1},maxMarkers:1,maxSuggestions:5,retainZoomLevel:!1,animateZoom:!0,searchLabel:"Enter address",clearSearchLabel:"Clear search",notFoundMessage:"",messageHideDelay:3e3,zoomLevel:18,classNames:{container:"leaflet-bar leaflet-control leaflet-control-geosearch",button:"leaflet-bar-part leaflet-bar-part-single",resetButton:"reset",msgbox:"leaflet-bar message",form:"",input:"",resultlist:"",item:"",notfound:"leaflet-bar-notfound"},autoComplete:!0,autoCompleteDelay:250,autoClose:!1,keepResult:!1,updateMap:!0},C="Leaflet must be loaded before instantiating the GeoSearch control",L={options:o({},k),classNames:o({},k.classNames),initialize:function(t){var e,r,i,s,a=this;if(!n)throw new Error(C);if(!t.provider)throw new Error("Provider is missing from options");this.options=o({},k,t),this.classNames=o({},this.classNames,t.classNames),this.markers=new n.FeatureGroup,this.classNames.container+=" leaflet-geosearch-"+this.options.style,this.searchElement=new E({searchLabel:this.options.searchLabel,classNames:{container:this.classNames.container,form:this.classNames.form,input:this.classNames.input},handleSubmit:function(t){return a.onSubmit(t)}}),this.button=c("a",this.classNames.button,this.searchElement.container,{title:this.options.searchLabel,href:"#",onClick:function(t){return a.onClick(t)}}),n.DomEvent.disableClickPropagation(this.button),this.resetButton=c("button",this.classNames.resetButton,this.searchElement.form,{text:"Ã—","aria-label":this.options.clearSearchLabel,onClick:function(){""===a.searchElement.input.value?a.close():a.clearResults(null,!0)}}),n.DomEvent.disableClickPropagation(this.resetButton),this.options.autoComplete&&(this.resultList=new w({handleClick:function(t){var e=t.result;a.searchElement.input.value=e.label,a.onSubmit({query:e.label,data:e})},classNames:{resultlist:this.classNames.resultlist,item:this.classNames.item,notfound:this.classNames.notfound},notFoundMessage:this.options.notFoundMessage}),this.searchElement.form.appendChild(this.resultList.container),this.searchElement.input.addEventListener("keyup",(e=function(t){return a.autoSearch(t)},void 0===(r=this.options.autoCompleteDelay)&&(r=250),void 0===i&&(i=!1),function(){var t=[].slice.call(arguments);s&&clearTimeout(s),s=setTimeout((function(){s=null,i||e.apply(void 0,t)}),r),i&&!s&&e.apply(void 0,t)}),!0),this.searchElement.input.addEventListener("keydown",(function(t){return a.selectResult(t)}),!0),this.searchElement.input.addEventListener("keydown",(function(t){return a.clearResults(t,!0)}),!0)),this.searchElement.form.addEventListener("click",(function(t){t.preventDefault()}),!1)},onAdd:function(t){var e=this.options,r=e.showMarker,o=e.style;if(this.map=t,r&&this.markers.addTo(t),"bar"===o){var i=t.getContainer().querySelector(".leaflet-control-container");this.container=c("div","leaflet-control-geosearch leaflet-geosearch-bar"),this.container.appendChild(this.searchElement.form),i.appendChild(this.container)}return n.DomEvent.disableClickPropagation(this.searchElement.form),this.searchElement.container},onRemove:function(){var t;return null==(t=this.container)||t.remove(),this},open:function(){var t=this.searchElement,e=t.input;d(t.container,"active"),e.focus()},close:function(){p(this.searchElement.container,"active"),this.clearResults()},onClick:function(t){t.preventDefault(),t.stopPropagation(),this.searchElement.container.classList.contains("active")?this.close():this.open()},selectResult:function(t){if(-1!==[v,g,y].indexOf(t.keyCode))if(t.preventDefault(),t.keyCode!==v){var e=this.resultList.count()-1;if(!(e<0)){var r=this.resultList.selected,n=t.keyCode===g?r+1:r-1,o=this.resultList.select(n<0?e:n>e?0:n);this.searchElement.input.value=o.label}}else{var i=this.resultList.select(this.resultList.selected);this.onSubmit({query:this.searchElement.input.value,data:i})}},clearResults:function(t,e){if(void 0===e&&(e=!1),!t||27===t.keyCode){var r=this.options,n=r.autoComplete;!e&&r.keepResult||(this.searchElement.input.value="",this.markers.clearLayers()),n&&this.resultList.clear()}},autoSearch:function(t){try{var e=this;if(b.indexOf(t.keyCode)>-1)return Promise.resolve();var r=t.target.value,n=e.options.provider,o=function(){if(r.length)return Promise.resolve(n.search({query:r})).then((function(t){t=t.slice(0,e.options.maxSuggestions),e.resultList.render(t,e.options.resultFormat)}));e.resultList.clear()}();return Promise.resolve(o&&o.then?o.then((function(){})):void 0)}catch(t){return Promise.reject(t)}},onSubmit:function(t){try{var e=this;return Promise.resolve(e.options.provider.search(t)).then((function(r){r&&r.length>0&&e.showResult(r[0],t)}))}catch(t){return Promise.reject(t)}},showResult:function(t,e){var r=this.options,n=r.autoClose,o=r.updateMap,i=this.markers.getLayers();i.length>=this.options.maxMarkers&&this.markers.removeLayer(i[0]);var s=this.addMarker(t,e);o&&this.centerMap(t),this.map.fireEvent("geosearch/showlocation",{location:t,marker:s}),n&&this.closeResults()},closeResults:function(){var t=this.searchElement.container;t.classList.contains("active")&&p(t,"active"),this.clearResults()},addMarker:function(t,e){var r=this,o=this.options,i=o.marker,s=o.showPopup,a=o.popupFormat,l=new n.Marker([t.y,t.x],i),c=t.label;return"function"==typeof a&&(c=a({query:e,result:t})),l.bindPopup(c),this.markers.addLayer(l),s&&l.openPopup(),i.draggable&&l.on("dragend",(function(t){r.map.fireEvent("geosearch/marker/dragend",{location:l.getLatLng(),event:t})})),l},centerMap:function(t){var e=this.options,r=e.retainZoomLevel,o=e.animateZoom,i=t.bounds?new n.LatLngBounds(t.bounds):new n.LatLng(t.y,t.x).toBounds(10),s=i.isValid()?i:this.markers.getBounds();!r&&i.isValid()&&!t.bounds||r||!i.isValid()?this.map.setView(s.getCenter(),this.getZoom(),{animate:o}):this.map.fitBounds(s,{animate:o})},getZoom:function(){var t=this.options,e=t.zoomLevel;return t.retainZoomLevel?this.map.getZoom():e}};function x(){if(!n)throw new Error(C);var t=n.Control.extend(L);return l(t,[].slice.call(arguments))}(m=f||(f={}))[m.SEARCH=0]="SEARCH",m[m.REVERSE=1]="REVERSE";var P,S=function(){function t(t){void 0===t&&(t={}),this.options=void 0,this.options=t}var e=t.prototype;return e.getParamString=function(t){void 0===t&&(t={});var e=o({},this.options.params,t);return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},e.getUrl=function(t,e){return t+"?"+this.getParamString(e)},e.search=function(t){try{var e=this,r=e.endpoint({query:t.query,type:f.SEARCH});return Promise.resolve(fetch(r)).then((function(t){return Promise.resolve(t.json()).then((function(t){return e.parse({data:t})}))}))}catch(t){return Promise.reject(t)}},t}(),U=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var r=e.prototype;return r.endpoint=function(){return"https://places-dsn.algolia.net/1/places/query"},r.findBestMatchLevelIndex=function(t){var e=t.find((function(t){return"full"===t.matchLevel}))||t.find((function(t){return"partial"===t.matchLevel}));return e?t.indexOf(e):0},r.getLabel=function(t){var e,r,n,o;return[null==(e=t.locale_names)?void 0:e.default[this.findBestMatchLevelIndex(t._highlightResult.locale_names.default)],null==(r=t.city)?void 0:r.default[this.findBestMatchLevelIndex(t._highlightResult.city.default)],t.administrative[this.findBestMatchLevelIndex(t._highlightResult.administrative)],null==(n=t.postcode)?void 0:n[this.findBestMatchLevelIndex(t._highlightResult.postcode)],null==(o=t.country)?void 0:o.default].filter(Boolean).join(", ")},r.parse=function(t){var e=this;return t.data.hits.map((function(t){return{x:t._geoloc.lng,y:t._geoloc.lat,label:e.getLabel(t),bounds:null,raw:t}}))},r.search=function(t){var e=t.query;try{var r=this,n="string"==typeof e?{query:e}:e;return Promise.resolve(fetch(r.endpoint(),{method:"POST",body:JSON.stringify(o({},r.options.params,n))})).then((function(t){return Promise.resolve(t.json()).then((function(t){return r.parse({data:t})}))}))}catch(t){return Promise.reject(t)}},e}(S),R=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).searchUrl="https://dev.virtualearth.net/REST/v1/Locations",e}i(e,t);var r=e.prototype;return r.endpoint=function(t){var e=t.query,r="string"==typeof e?{q:e}:e;return r.jsonp=t.jsonp,this.getUrl(this.searchUrl,r)},r.parse=function(t){return 0===t.data.resourceSets.length?[]:t.data.resourceSets[0].resources.map((function(t){return{x:t.point.coordinates[1],y:t.point.coordinates[0],label:t.address.formattedAddress,bounds:[[t.bbox[0],t.bbox[1]],[t.bbox[2],t.bbox[3]]],raw:t}}))},r.search=function(t){var e,r,n,o=t.query;try{var i=this,s="BING_JSONP_CB_"+Date.now();return Promise.resolve((e=i.endpoint({query:o,jsonp:s}),r=s,n=c("script",null,document.body),n.setAttribute("type","text/javascript"),new Promise((function(t){window[r]=function(e){n.remove(),delete window[r],t(e)},n.setAttribute("src",e)})))).then((function(t){return i.parse({data:t})}))}catch(t){return Promise.reject(t)}},e}(S),I=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).searchUrl="https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/find",e}i(e,t);var r=e.prototype;return r.endpoint=function(t){var e=t.query,r="string"==typeof e?{text:e}:e;return r.f="json",this.getUrl(this.searchUrl,r)},r.parse=function(t){return t.data.locations.map((function(t){return{x:t.feature.geometry.x,y:t.feature.geometry.y,label:t.name,bounds:[[t.extent.ymin,t.extent.xmin],[t.extent.ymax,t.extent.xmax]],raw:t}}))},e}(S),j=function(t){function e(e){var r;return void 0===e&&(e={}),(r=t.call(this,e)||this).host=void 0,r.host=e.host||"http://localhost:4000",r}i(e,t);var r=e.prototype;return r.endpoint=function(t){var e=t.query;return t.type===f.REVERSE?this.getUrl(this.host+"/v1/reverse","string"==typeof e?{}:e):this.getUrl(this.host+"/v1/autocomplete","string"==typeof e?{text:e}:e)},r.parse=function(t){return t.data.features.map((function(t){var e={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1],label:t.properties.label,bounds:null,raw:t};return Array.isArray(t.bbox)&&4===t.bbox.length&&(e.bounds=[[t.bbox[1],t.bbox[0]],[t.bbox[3],t.bbox[2]]]),e}))},e}(S),A=function(t){function e(e){return void 0===e&&(e={}),e.host="https://api.geocode.earth",t.call(this,e)||this}return i(e,t),e}(j),N=function t(e,r){if(e===r)return!0;if(e&&r&&"object"==typeof e&&"object"==typeof r){if(e.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(e)){if((n=e.length)!=r.length)return!1;for(o=n;0!=o--;)if(!t(e[o],r[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((n=(i=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(o=n;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;0!=o--;){var s=i[o];if(!t(e[s],r[s]))return!1}return!0}return e!=e&&r!=r};!function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"}(P||(P={}));class O{constructor({apiKey:t,authReferrerPolicy:e,channel:r,client:n,id:o="__googleMapsScriptId",language:i,libraries:s=[],mapIds:a,nonce:l,region:c,retries:u=3,url:h="https://maps.googleapis.com/maps/api/js",version:d}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=t,this.authReferrerPolicy=e,this.channel=r,this.client=n,this.id=o||"__googleMapsScriptId",this.language=i,this.libraries=s,this.mapIds=a,this.nonce=l,this.region=c,this.retries=u,this.url=h,this.version=d,O.instance){if(!N(this.options,O.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(O.instance.options)}`);return O.instance}O.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?P.FAILURE:this.done?P.SUCCESS:this.loading?P.LOADING:P.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let t=this.url;return t+=`?callback=${this.CALLBACK}`,this.apiKey&&(t+=`&key=${this.apiKey}`),this.channel&&(t+=`&channel=${this.channel}`),this.client&&(t+=`&client=${this.client}`),this.libraries.length>0&&(t+=`&libraries=${this.libraries.join(",")}`),this.language&&(t+=`&language=${this.language}`),this.region&&(t+=`&region=${this.region}`),this.version&&(t+=`&v=${this.version}`),this.mapIds&&(t+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(t+=`&auth_referrer_policy=${this.authReferrerPolicy}`),t}deleteScript(){const t=document.getElementById(this.id);t&&t.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise(((t,e)=>{this.loadCallback((r=>{r?e(r.error):t(window.google)}))}))}loadCallback(t){this.callbacks.push(t),this.execute()}setScript(){if(document.getElementById(this.id))return void this.callback();const t=this.createUrl(),e=document.createElement("script");e.id=this.id,e.type="text/javascript",e.src=t,e.onerror=this.loadErrorCallback.bind(this),e.defer=!0,e.async=!0,this.nonce&&(e.nonce=this.nonce),document.head.appendChild(e)}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(t){if(this.errors.push(t),this.errors.length<=this.retries){const t=this.errors.length*Math.pow(2,this.errors.length);console.log(`Failed to load Google Maps script, retrying in ${t} ms.`),setTimeout((()=>{this.deleteScript(),this.setScript()}),t)}else this.onerrorEvent=t,this.callback()}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach((t=>{t(this.onerrorEvent)})),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}}var M=function(t){function e(e){var r;return(r=t.call(this,e)||this).loader=null,r.geocoder=null,"undefined"!=typeof window&&(r.loader=new O(e).load().then((function(t){var e=new t.maps.Geocoder;return r.geocoder=e,e}))),r}i(e,t);var r=e.prototype;return r.endpoint=function(t){throw new Error("Method not implemented.")},r.parse=function(t){return t.data.results.map((function(t){var e=t.geometry.location.toJSON(),r=e.lat,n=e.lng,o=t.geometry.viewport.toJSON();return{x:n,y:r,label:t.formatted_address,bounds:[[o.south,o.west],[o.north,o.east]],raw:t}}))},r.search=function(t){try{var e=function(e){if(!e)throw new Error("GoogleMaps GeoCoder is not loaded. Are you trying to run this server side?");return Promise.resolve(e.geocode({address:t.query},(function(t){return{results:t}})).catch((function(t){return"ZERO_RESULTS"!==t.code&&console.error(t.code+": "+t.message),{results:[]}}))).then((function(t){return r.parse({data:t})}))},r=this,n=r.geocoder;return Promise.resolve(n?e(n):Promise.resolve(r.loader).then(e))}catch(t){return Promise.reject(t)}},e}(S),_=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).searchUrl="https://maps.googleapis.com/maps/api/geocode/json",e}i(e,t);var r=e.prototype;return r.endpoint=function(t){var e=t.query;return this.getUrl(this.searchUrl,"string"==typeof e?{address:e}:e)},r.parse=function(t){return t.data.results.map((function(t){return{x:t.geometry.location.lng,y:t.geometry.location.lat,label:t.formatted_address,bounds:[[t.geometry.viewport.southwest.lat,t.geometry.viewport.southwest.lng],[t.geometry.viewport.northeast.lat,t.geometry.viewport.northeast.lng]],raw:t}}))},e}(S),F=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).searchUrl="https://geocode.search.hereapi.com/v1/autosuggest",e}i(e,t);var r=e.prototype;return r.endpoint=function(t){var e=t.query;return this.getUrl(this.searchUrl,"string"==typeof e?{q:e}:e)},r.parse=function(t){return t.data.items.filter((function(t){return void 0!==t.position})).map((function(t){return{x:t.position.lng,y:t.position.lat,label:t.address.label,bounds:null,raw:t}}))},e}(S),q=function(t){function e(e){var r;void 0===e&&(e={}),(r=t.call(this,e)||this).searchUrl=void 0,r.reverseUrl=void 0;var n="https://nominatim.openstreetmap.org";return r.searchUrl=e.searchUrl||n+"/search",r.reverseUrl=e.reverseUrl||n+"/reverse",r}i(e,t);var r=e.prototype;return r.endpoint=function(t){var e=t.query,r=t.type,n="string"==typeof e?{q:e}:e;return n.format="json",this.getUrl(r===f.REVERSE?this.reverseUrl:this.searchUrl,n)},r.parse=function(t){return(Array.isArray(t.data)?t.data:[t.data]).map((function(t){return{x:Number(t.lon),y:Number(t.lat),label:t.display_name,bounds:[[parseFloat(t.boundingbox[0]),parseFloat(t.boundingbox[2])],[parseFloat(t.boundingbox[1]),parseFloat(t.boundingbox[3])]],raw:t}}))},e}(S),B=function(t){function e(e){return t.call(this,o({},e,{searchUrl:"https://locationiq.org/v1/search.php",reverseUrl:"https://locationiq.org/v1/reverse.php"}))||this}return i(e,t),e}(q),D=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).searchUrl="https://api.opencagedata.com/geocode/v1/json",e}i(e,t);var r=e.prototype;return r.endpoint=function(t){var e=t.query,r="string"==typeof e?{q:e}:e;return r.format="json",this.getUrl(this.searchUrl,r)},r.parse=function(t){return t.data.results.map((function(t){return{x:t.geometry.lng,y:t.geometry.lat,label:t.formatted,bounds:[[t.bounds.southwest.lat,t.bounds.southwest.lng],[t.bounds.northeast.lat,t.bounds.northeast.lng]],raw:t}}))},r.search=function(e){try{return Promise.resolve(e.query.length<2?[]:t.prototype.search.call(this,e))}catch(t){return Promise.reject(t)}},e}(S),G=function(t){function e(e){var r;return void 0===e&&(e={}),(r=t.call(this,e)||this).searchUrl=void 0,r.searchUrl=e.searchUrl||"https://a.tiles.mapbox.com/v4/geocode/mapbox.places/",r}i(e,t);var r=e.prototype;return r.endpoint=function(t){return this.getUrl(""+this.searchUrl+t.query+".json")},r.parse=function(t){return(Array.isArray(t.data.features)?t.data.features:[]).map((function(t){var e=null;return t.bbox&&(e=[[parseFloat(t.bbox[1]),parseFloat(t.bbox[0])],[parseFloat(t.bbox[3]),parseFloat(t.bbox[2])]]),{x:Number(t.center[0]),y:Number(t.center[1]),label:t.place_name?t.place_name:t.text,bounds:e,raw:t}}))},e}(S),K=function(t){function e(e){var r;void 0===e&&(e={}),(r=t.call(this,e)||this).searchUrl=void 0,r.reverseUrl=void 0;var n="https://api-adresse.data.gouv.fr";return r.searchUrl=e.searchUrl||n+"/search",r.reverseUrl=e.reverseUrl||n+"/reverse",r}i(e,t);var r=e.prototype;return r.endpoint=function(t){var e=t.query;return this.getUrl(t.type===f.REVERSE?this.reverseUrl:this.searchUrl,"string"==typeof e?{q:e}:e)},r.parse=function(t){return t.data.features.map((function(t){return{x:t.geometry.coordinates[0],y:t.geometry.coordinates[1],label:t.properties.label,bounds:null,raw:t}}))},e}(S)}}]);
//# sourceMappingURL=225.9c4955b8d0fef6b41943.min.js.map